<!DOCTYPE html>
<html>
<head>
    <title>BEAST IP SCANNER</title>
    <style>
        :root { --blue: #00d4ff; --pink: #ff007a; --green: #39ff14; --bg: #080808; }
        body { background: var(--bg); color: white; font-family: 'Segoe UI', sans-serif; text-align: center; margin: 0; }
        nav { background: #111; padding: 15px; display: flex; justify-content: space-between; border-bottom: 2px solid var(--blue); }
        .card { background: #121212; border: 1px solid var(--blue); padding: 40px; border-radius: 20px; width: 480px; margin: 40px auto; box-shadow: 0 0 50px rgba(0, 212, 255, 0.2); }
        .radar { width: 140px; height: 140px; border-radius: 50%; border: 2px solid var(--blue); margin: 0 auto 20px; position: relative; overflow: hidden; background: radial-gradient(circle, #001a22 0%, transparent 70%); }
        .radar::after { content: ""; position: absolute; top: 50%; left: 50%; width: 100%; height: 100%; background: conic-gradient(from 0deg, var(--blue), transparent 90deg); transform: translate(-50%, -50%); animation: sweep 3s linear infinite; }
        @keyframes sweep { from { transform: translate(-50%, -50%) rotate(0deg); } to { transform: translate(-50%, -50%) rotate(360deg); } }
        input[type="text"] { background: #000; border: 1px solid var(--blue); color: white; padding: 12px; width: 70%; border-radius: 5px; }
        .btn-scan { background: var(--blue); color: black; border: none; padding: 12px 25px; border-radius: 5px; font-weight: bold; cursor: pointer; }
        .os-select { margin: 20px 0; display: flex; justify-content: center; gap: 10px; }
        .btn-download { background: linear-gradient(45deg, var(--pink), #bc13fe); color: white; border: none; padding: 15px 30px; border-radius: 50px; cursor: pointer; font-weight: bold; text-decoration: none; display: inline-block; }
    </style>
</head>
<body>
    <nav>
        <span>STATUS: <b style="color:var(--green)">CONNECTED ({{ user }})</b></span>
        <a href="/logout" style="color:var(--pink); text-decoration:none;">DISCONNECT</a>
    </nav>
    <div class="card">
        <div class="radar"></div>
        <h1 style="color:var(--blue); letter-spacing: 5px;">BEAST SCANNER</h1>
        <form method="POST">
            <input type="text" name="ip_address" placeholder="Target IP (e.g. 8.8.8.8)" required>
            <button type="submit" class="btn-scan">SCAN</button>
        </form>
        {% if data and data.status == 'success' %}
        <div style="text-align: left; margin-top: 20px; border-top: 1px solid #333; padding-top: 15px;">
            <p><b style="color:var(--pink)">LOCATION:</b> {{ data.city }}, {{ data.country }}</p>
            <p><b style="color:var(--pink)">ISP:</b> {{ data.isp }}</p>
        </div>
        {% endif %}
        <div class="os-select">
            <label><input type="radio" name="os" value="win" checked> Windows</label>
            <label><input type="radio" name="os" value="mac"> macOS</label>
        </div>
        <button onclick="dl()" class="btn-download">DOWNLOAD BEAST v1.0</button>
    </div>
    <script>function dl(){ const os=document.querySelector('input[name="os"]:checked').value; window.location.href=`/download/${os}`; }</script>
</body>
</html>